<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Adalet Oyunu</title>

<style>
body{
  margin:0;
  font-family:system-ui;
  background:#020617;
  color:#e5e7eb;
  overflow:hidden;
}

/* S√úSL√ú ARKA PLAN */
.bg{
  position:fixed;
  inset:0;
  overflow:hidden;
  z-index:-1;
}
.bg span{
  position:absolute;
  width:120px;
  height:120px;
  border-radius:50%;
  background:rgba(139,92,246,.15);
  filter:blur(30px);
  animation:float 18s infinite linear;
}
@keyframes float{
  from{transform:translateY(120vh)}
  to{transform:translateY(-20vh)}
}

/* OYUN */
#game{
  position:relative;
  width:100vw;
  height:100vh;
}

/* KARAKTER */
#player{
  position:absolute;
  width:50px;
  height:50px;
  border-radius:14px;
  background:linear-gradient(135deg,#a78bfa,#6366f1);
  box-shadow:0 0 20px #6366f1;
}

/* ADALET */
.evidence{
  position:absolute;
  width:26px;
  height:26px;
  border-radius:50%;
  background:#22c55e;
  box-shadow:0 0 15px #22c55e;
}

/* KARARMA */
#darkness{
  position:absolute;
  inset:0;
  background:black;
  opacity:.7;
  pointer-events:none;
  transition:.4s;
}

/* √úST */
#ui{
  position:fixed;
  top:10px;
  left:50%;
  transform:translateX(-50%);
  background:rgba(0,0,0,.5);
  padding:10px 16px;
  border-radius:999px;
  font-weight:600;
}

.topbtn{
  position:fixed;
  top:10px;
  padding:10px 14px;
  border:none;
  border-radius:12px;
  font-weight:700;
  color:white;
  cursor:pointer;
}
#toggle{left:10px;background:#ef4444;}
#joystickBtn{left:120px;background:#7c3aed;}

/* TU≈ûLAR */
.controls{
  position:fixed;
  display:grid;
  gap:10px;
}
.btn{
  width:70px;
  height:70px;
  border-radius:16px;
  border:none;
  font-size:30px;
  background:#111827;
  color:white;
}
#leftControls{
  bottom:20px;left:20px;
  grid-template-columns:repeat(3,70px);
  grid-template-rows:repeat(3,70px);
}
#rightControls{
  bottom:20px;right:20px;
  grid-template-columns:repeat(2,70px);
}
.center{
  bottom:50%;left:50%;
  transform:translate(-50%,50%);
}

/* JOYSTICK */
#joyArea{
  position:fixed;
  bottom:0;
  left:0;
  width:100%;
  height:35%;
  background:rgba(239,68,68,.15);
  display:none;
}
#joyText{
  position:absolute;
  top:10px;
  left:50%;
  transform:translateX(-50%);
  color:#fecaca;
  font-weight:600;
}

/* KAZANMA */
#win{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.85);
  display:none;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  gap:20px;
}
#win video,#win img{
  max-width:90%;
  max-height:50vh;
  border-radius:16px;
  box-shadow:0 0 30px #22c55e;
}
#restart{
  padding:12px 22px;
  border-radius:999px;
  border:none;
  font-weight:700;
  color:white;
  background:linear-gradient(90deg,red,orange,yellow,green,cyan,blue,purple);
}
</style>
</head>

<body>

<div class="bg">
  <span style="left:10%;animation-duration:22s"></span>
  <span style="left:40%;animation-duration:18s"></span>
  <span style="left:70%;animation-duration:26s"></span>
</div>

<div id="game">
  <div id="player"></div>
  <div id="darkness"></div>
</div>

<div id="ui">‚öñÔ∏è Adalet: <span id="score">0</span>/6</div>
<button id="toggle" class="topbtn">Yakƒ±nla≈ü</button>
<button id="joystickBtn" class="topbtn">Joystick</button>

<div id="leftControls" class="controls">
  <div></div><button class="btn" data="up">‚¨ÜÔ∏è</button><div></div>
  <button class="btn" data="left">‚¨ÖÔ∏è</button><div></div><button class="btn" data="right">‚û°Ô∏è</button>
  <div></div><button class="btn" data="down">‚¨áÔ∏è</button><div></div>
</div>

<div id="rightControls" class="controls">
  <button class="btn" data="back">‚è™</button>
  <button class="btn" data="forward">‚è©</button>
</div>

<div id="joyArea">
  <div id="joyText">üïπÔ∏è Parmaƒüƒ±nƒ± s√ºr√ºkle</div>
</div>

<div id="win">
  <h2>üéâ Adalet Kazandƒ±!</h2>
  <video src="kazanan-video.mp4" controls></video>
  <!-- GIF: <img src="kazanan.gif"> -->
  <button id="restart">üîÑ Tekrar Ba≈üla</button>
</div>

<!-- SESLER -->
<audio id="hit" src="hit.mp3"></audio>
<audio id="click" src="click.mp3"></audio>

<script>
const player=document.getElementById("player");
const dark=document.getElementById("darkness");
const scoreT=document.getElementById("score");
const win=document.getElementById("win");
const toggle=document.getElementById("toggle");
const joyBtn=document.getElementById("joystickBtn");
const joyArea=document.getElementById("joyArea");
const hit=document.getElementById("hit");
const click=document.getElementById("click");
const leftC=document.getElementById("leftControls");
const rightC=document.getElementById("rightControls");

let x=innerWidth/2-25,y=innerHeight/2-25,score=0,close=false,joy=false;

function draw(){player.style.left=x+"px";player.style.top=y+"px";}
draw();

function move(dx,dy){
  x=Math.max(0,Math.min(innerWidth-50,x+dx));
  y=Math.max(0,Math.min(innerHeight-50,y+dy));
  draw();
}

document.querySelectorAll(".btn").forEach(b=>{
  b.onclick=()=>{
    click.play();
    const d=b.dataset;
    if(d=="left")move(-25,0);
    if(d=="right")move(25,0);
    if(d=="up")move(0,-25);
    if(d=="down")move(0,25);
    if(d=="back")move(-40,0);
    if(d=="forward")move(40,0);
  };
});

toggle.onclick=()=>{
  close=!close;
  toggle.textContent=close?"Uzakla≈ü":"Yakƒ±nla≈ü";
  leftC.classList.toggle("center",close);
  rightC.classList.toggle("center",close);
};

joyBtn.onclick=()=>{
  joy=!joy;
  click.play();
  joyArea.style.display=joy?"block":"none";
  leftC.style.display=joy?"none":"grid";
  rightC.style.display=joy?"none":"grid";
};

joyArea.addEventListener("touchmove",e=>{
  const t=e.touches[0];
  move((t.movementX||0)*0.6,(t.movementY||0)*0.6);
});

function spawn(){
  const d=document.createElement("div");
  d.className="evidence";
  d.style.left=Math.random()*(innerWidth-30)+"px";
  d.style.top=Math.random()*(innerHeight-30)+"px";
  game.appendChild(d);
  const chk=setInterval(()=>{
    const a=d.getBoundingClientRect(),b=player.getBoundingClientRect();
    if(a.left<b.right&&a.right>b.left&&a.top<b.bottom&&a.bottom>b.top){
      hit.play();
      d.remove();clearInterval(chk);
      score++;scoreT.textContent=score;
      dark.style.opacity=Math.max(0,0.7-score*0.12);
      if(score>=6)win.style.display="flex";
    }
  },50);
}
setInterval(()=>{if(score<6)spawn();},1200);

document.getElementById("restart").onclick=()=>location.reload();
</script>

</body>
</html>